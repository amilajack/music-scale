(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){module.exports=function(method){var memoized=function(){var cache=this["__cache"+memoized.cacheId]||(this["__cache"+memoized.cacheId]={});var key=[].join.call(arguments,"|");if(cache.hasOwnProperty(key))return cache[key];return cache[key]=method.apply(this,arguments)};memoized.cacheId=""+Date.now()+Math.random();return memoized}},{}],2:[function(require,module,exports){"use strict";var memoize=require("method-memoize");var IS_BINARY=/^[01]+$/;var IS_NUMBER=/^\d+$/;function Scale(num){if(!(this instanceof Scale))return Scale.get(num);if(IS_NUMBER.test(num)){this.decimal=+num;this.binary=this.decimal.toString(2)}else{throw Error("Invalid scale number: "+num)}if(this.decimal<Scale.MIN||this.decimal>Scale.MAX){throw Error("Scale number not valid: "+this.decimal+" (must be between "+Scale.MIN+" and "+Scale.MAX+")")}this.length=this.binary.match(/1/g).length}Scale.MIN=parseInt("100000000000",2);Scale.MAX=parseInt("111111111111",2);Scale.get=function(identifier){if(!identifier)return null;return Scale.cache(identifier,function(){if(IS_BINARY.test(identifier))return Scale.get(parseInt(identifier,2));else if(IS_NUMBER.test(identifier))return new Scale(identifier);return Scale.get(Scale.Names.toDecimal(identifier))})};Scale.fromNumbers=function(array){var numbers=array.map(function(i){return i.toString()});var binary=NUMBERS.map(function(num){return numbers.indexOf(num)>=0?"1":"0"}).join("");return Scale.get(binary)};Scale.all=function(){if(!Scale._all){Scale._all=[];for(var i=Scale.MIN;i<=Scale.MAX;i++){Scale._all.push(Scale.get(i))}}return Scale._all};Scale.prototype.names=memoize(function(){return Scale.Names.fromDecimal(this.decimal)});Scale.prototype.name=function(){return this.names()[0]};var STEPS=/1(0)*/g;Scale.prototype.steps=memoize(function(){return this.binary.match(STEPS).map(lengthOf)});Scale.prototype.leap=memoize(function(){return this.binary.match(STEPS).reduce(function(num,zeros){return Math.max(num,zeros.length)},0)});var NUMBERS=["1","b2","2","b3","3","4","b5","5","b6","6","b7","7"];Scale.prototype.numbers=function(){return this.binary.split("").map(function(digit,index){return digit==="1"?NUMBERS[index]:null}).filter(function(n){return n})};var INTERVALS=["P1","m2","M2","m3","M3","P4","d5","P5","m6","M6","m7","M7"];Scale.prototype.intervals=function(){var intervals=this.binary.split("").map(function(digit,index){return digit==="1"?INTERVALS[index]:null});specialCase(intervals,8,"m6",9,"M6","A5");specialCase(intervals,6,"d5",7,"P5","A4");specialCase(intervals,6,"d5",8,"A5","A4");return intervals.filter(function(i){return i})};function specialCase(intervals,a,aVal,b,bVal,aSus,bSus){if(intervals[a]===aVal&&intervals[b]===bVal){if(aSus)intervals[a]=aSus;if(bSus)intervals[b]=bSus}}Scale.prototype.modes=memoize(function(){var modes=[];for(var i=0;i<12;i++){modes.push(rotate(this.binary,i))}var m=modes.filter(function(binary){return binary.charAt(0)==="1"}).map(function(binary,index){return Scale.get(binary)});return m});Scale.prototype.mode=function(num){var count=this.modes().length;return this.modes()[(num-1)%count]};Scale.prototype.cannonicalMode=memoize(function(){var ordered=this.modes().concat().sort(function(scaleA,scaleB){var stepsA=+scaleA.steps().join("");var stepsB=+scaleB.steps().join("");return stepsA-stepsB});return ordered[ordered.length-1]});Scale.prototype.isCannonical=function(){return this.cannonicalMode()===this};Scale.prototype.isModeOf=function(other){var binary=other.binary?other.binary:other;return binary.length===this.binary.length&&(binary+binary).indexOf(this.binary)!==-1};Scale.prototype.reflection=memoize(function(){return Scale.get(this.binary.split("").reverse().join(""))});Scale.prototype.coscale=memoize(function(){var inv=this.binary.replace(/0/g,"L").replace(/1/g,"0").replace(/L/g,1);return Scale.get(rotate(inv,inv.indexOf("1")))});Scale.cache=function(values){return function(id,generator){return values[id]||(values[id]=generator())}}({});Scale.Names=function(decToNames,nameToDec){function store(hash){var names;Object.keys(hash).forEach(function(decimal){names=hash[decimal];decToNames[decimal]=names;names.forEach(function(name){nameToDec[name]=decimal})})}store.names=function(){return Object.keys(nameToDec)};store.fromDecimal=function(decimal){return decToNames[decimal]||[]};store.toDecimal=function(name){return nameToDec[name]};return store}({},{});Scale.Names({2773:["major"],2901:["melodic minor","melodic"],2905:["harmonic minor","harmonic"],2709:["major pentatonic"]});function rotate(str,positions){return str.slice(positions,12)+str.slice(0,positions)}function lengthOf(o){return o.length}if(typeof module==="object"&&module.exports)module.exports=Scale;if(typeof window!=="undefined")window.Scale=Scale},{"method-memoize":1}]},{},[2]);